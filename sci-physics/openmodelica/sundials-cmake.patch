Index: /OMCompiler/SimulationRuntime/cpp/CMakeLists.txt
--- a/OMCompiler/SimulationRuntime/cpp/CMakeLists.txt
+++ b/OMCompiler/SimulationRuntime/cpp/CMakeLists.txt
@@ -551,33 +551,34 @@
   MESSAGE(STATUS "Sundials library:")
   MESSAGE(STATUS "${SUNDIALS_LIBRARY_RELEASE_HOME}")
 
-
-  FIND_PATH(SUNDIALS_INCLUDE_DIR cvode/cvode.h PATHS ${SUNDIALS_INLCUDE_HOME})
-  IF (NOT SUNDIALS_INCLUDE_DIR)
+  SET(SUNDIALS_INCLUDE_DIR "${SUNDIALS_INLCUDE_HOME}")
+  IF (NOT EXISTS "${SUNDIALS_INLCUDE_HOME}/cvode/cvode.h")
     MESSAGE(FATAL_ERROR "Could not find Sundials; compile omc first")
-  ELSE(NOT SUNDIALS_INCLUDE_DIR)
-    INCLUDE_DIRECTORIES(${SUNDIALS_INCLUDE_DIR})
-    # Extract the version number from sundials_config.h
-    FIND_PATH(SUNDIALS_CONFIG_FILE "sundials_config.h" ${SUNDIALS_INCLUDE_DIR} "${SUNDIALS_INCLUDE_DIR}/sundials")
-    SET(SUNDIALS_CONFIG_FILE "${SUNDIALS_CONFIG_FILE}/sundials_config.h")
-    FILE(READ "${SUNDIALS_CONFIG_FILE}" SUNDIALS_CONFIG_FILE_CONTENT)
-    STRING(REGEX MATCH "#define SUNDIALS_PACKAGE_VERSION .([0-9]+)\\.([0-9]+)\\.([0-9]+)." SUNDIALS_CONFIG_FILE_CONTENT ${SUNDIALS_CONFIG_FILE_CONTENT})
-    STRING(REGEX REPLACE "#define SUNDIALS_PACKAGE_VERSION .([0-9]+)\\.([0-9]+)\\.([0-9]+)." "\\1;\\2;\\3" SUNDIALS_CONFIG_FILE_VERSION ${SUNDIALS_CONFIG_FILE_CONTENT})
-    LIST(GET SUNDIALS_CONFIG_FILE_VERSION 0 SUNDIALS_MAJOR_VERSION)
-    IF(SUNDIALS_MAJOR_VERSION)
-      ADD_DEFINITIONS("-DSUNDIALS_MAJOR_VERSION=${SUNDIALS_MAJOR_VERSION}")
-    ELSE()
-      MESSAGE(FATAL_ERROR "Could not determine sundials version")
-    ENDIF()
-    LIST(GET SUNDIALS_CONFIG_FILE_VERSION 1 SUNDIALS_MINOR_VERSION)
-    IF(SUNDIALS_MINOR_VERSION)
-      ADD_DEFINITIONS("-DSUNDIALS_MINOR_VERSION=${SUNDIALS_MINOR_VERSION}")
-    ELSE()
-      MESSAGE(FATAL_ERROR "Could not determine sundials version")
-    ENDIF()
-    LIST(GET SUNDIALS_CONFIG_FILE_VERSION 2 SUNDIALS_PATCH_VERSION)
-    MESSAGE(STATUS "Using sundials ${SUNDIALS_MAJOR_VERSION}.${SUNDIALS_MINOR_VERSION}.${SUNDIALS_PATCH_VERSION}")
   ENDIF()
+  INCLUDE_DIRECTORIES(${SUNDIALS_INCLUDE_DIR})
+  # Extract the version number from sundials_config.h
+  SET(SUNDIALS_CONFIG_FILE "${SUNDIALS_INCLUDE_DIR}/sundials/sundials_config.h")
+  IF(NOT EXISTS "${SUNDIALS_CONFIG_FILE}")
+    MESSAGE(FATAL_ERROR "Could not find sundials_config.h")
+  ENDIF()
+  FILE(READ "${SUNDIALS_CONFIG_FILE}" SUNDIALS_CONFIG_FILE_CONTENT)
+  MESSAGE(STATUS "Found config file ${SUNDIALS_CONFIG_FILE}")
+  STRING(REGEX MATCH "#define SUNDIALS_PACKAGE_VERSION .([0-9]+)\\.([0-9]+)\\.([0-9]+)." SUNDIALS_CONFIG_FILE_CONTENT ${SUNDIALS_CONFIG_FILE_CONTENT})
+  STRING(REGEX REPLACE "#define SUNDIALS_PACKAGE_VERSION .([0-9]+)\\.([0-9]+)\\.([0-9]+)." "\\1;\\2;\\3" SUNDIALS_CONFIG_FILE_VERSION ${SUNDIALS_CONFIG_FILE_CONTENT})
+  LIST(GET SUNDIALS_CONFIG_FILE_VERSION 0 SUNDIALS_MAJOR_VERSION)
+  IF(SUNDIALS_MAJOR_VERSION)
+    ADD_DEFINITIONS("-DSUNDIALS_MAJOR_VERSION=${SUNDIALS_MAJOR_VERSION}")
+  ELSE()
+    MESSAGE(FATAL_ERROR "Could not determine sundials version")
+  ENDIF()
+  LIST(GET SUNDIALS_CONFIG_FILE_VERSION 1 SUNDIALS_MINOR_VERSION)
+  IF(SUNDIALS_MINOR_VERSION)
+    ADD_DEFINITIONS("-DSUNDIALS_MINOR_VERSION=${SUNDIALS_MINOR_VERSION}")
+  ELSE()
+    MESSAGE(FATAL_ERROR "Could not determine sundials version")
+  ENDIF()
+  LIST(GET SUNDIALS_CONFIG_FILE_VERSION 2 SUNDIALS_PATCH_VERSION)
+MESSAGE(STATUS "Using sundials ${SUNDIALS_MAJOR_VERSION}.${SUNDIALS_MINOR_VERSION}.${SUNDIALS_PATCH_VERSION}")
 
   FIND_LIBRARY(SUNDIALS_NVECSERIAL_LIB "sundials_nvecserial" NO_DEFAULT_PATH NO_SYSTEM_ENVIRONMENT_PATH PATHS ${SUNDIALS_LIBRARY_RELEASE_HOME} $ENV{SUNDIALS_ROOT}/lib)
   IF(NOT SUNDIALS_NVECSERIAL_LIB)
